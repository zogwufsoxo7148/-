## 数据库层面

1.索引优化

- 单字段索引：确保经常查询的字段已经创建了索引，特别是WHERE、JOIN、ORDER BY、GROUP BY等操作中涉及的字段。
- 复合索引：对于多字段的查询，可以创建复合索引。要注意复合索引的字段顺序，应按照查询的过滤条件使用频率来排列。
- 覆盖索引：尽可能利用覆盖索引，即查询的所有字段都在索引中，这样可以避免回表操作，直接从索引中获取数据。
- 前缀索引：对于较长的字符串字段，考虑使用前缀索引，只对字符串的前几位建立索引。

2.分区表

- 如果数据量非常大，可以考虑使用分区表。分区表可以按时间、范围或者哈希方式进行分区，从而减少每次查询的数据量。
- 配合分区裁剪技术，优化查询只针对特定的分区，减少扫描的记录数。

 3.垂直拆分

将一个表按字段进行垂直拆分。把经常一起查询的字段放在一个表里，减少单表的字段数，从而提升查询速度。

 4.水平分表

当单表数据量非常大时，可以对表进行水平分表。将数据按照某个字段（如ID或时间）进行分片存储在多个表中，从而减小单表数据量，提升查询效率。

 5.数据库硬件优化

增加内存，将数据缓存到内存中，减少IO；增加SSD存储，提高IO的性能，减少查询响应时间。

 6.缓存

使用Redis等内存型缓存，缓存热点数据，减少对数据库的访问。

 

## SQL层面

1.避免全表扫描

确保WHERE条件能够使用索引，避免全表扫描。对于大表，EXPLAIN语句可以帮助分析查询计划，识别潜在的全表扫描问题。

2.减少不必要字段的查询

仅查询必要的字段，减少SELECT *的使用，降低数据传输和处理量。

3.合理使用Join

对于复杂的多表JOIN操作，优化索引，确保JOIN字段上有索引。必要时可以通过分解查询，减少单次查询的复杂度。

4.避免在索引上使用函数

在索引字段上使用函数或计算会导致索引失效，尽量避免在WHERE条件中对索引字段进行函数操作。

5.分页查询优化

对于大数据量的分页查询，可以通过延迟关联（deferred join）或子查询来优化，如通过ID范围来分页而不是OFFSET。

 

## Java后端优化

1.批量处理

批量查询和批量更新可以减少数据库连接的次数，降低数据库的压力。使用MyBatis持久化框架的批量操作功能。

 2.异步并发处理

对于不要求强一致性的场景，使用异步查询或并发处理。通过多线程、异步框架（如CompletableFuture或Spring的异步支持）提高查询的吞吐量。

3.读写分离

通过数据库的主从复制机制，实现读写分离。将查询操作引导到只读从库，减轻主库的压力。

 4.缓存策略

在Java层面实现数据缓存策略，如本地缓存（如Guava Cache）或者分布式缓存（如Redis），减少对数据库的直接访问次数。

 5.使用分页查询

对于大数据查询时，采用分页查询来避免一次性加载大量数据。