**100个请求**打到服务器的一个方法上，如果方法内部使用了线程池，通常是 **共用一个线程池**，而不是为每个请求单独创建一个线程池。具体原因和机制如下：

### 1. **线程池的使用方式**

- **共用一个线程池**：
  - **机制**：在典型的服务器应用中，线程池通常是作为全局资源来管理的。每个请求到达时，如果需要并行处理任务，方法内部会将任务提交到一个共享的线程池中。
  - **好处**：通过共享一个线程池，可以更高效地管理线程资源，避免频繁创建和销毁线程池带来的开销。共享线程池也有助于控制并发量，防止线程数过多导致系统资源耗尽。
  - **线程池配置**：线程池的大小、任务队列长度等配置会根据服务器的整体负载和资源情况来设定，以确保在并发请求下系统能够平稳运行。

- **每个请求开启独立线程池（不常见）**：
  - **机制**：在这种情况下，每个请求到达时都会创建一个独立的线程池来处理内部任务。100个请求意味着会创建100个线程池。
  - **问题**：这会导致大量的资源消耗，因为每个线程池都有自己的线程和任务队列。频繁创建和销毁线程池会带来巨大的开销，可能导致资源耗尽、性能下降甚至系统崩溃。
  - **不推荐**：通常不建议为每个请求创建独立的线程池，除非有非常特殊的需求，否则会极大浪费系统资源。

### 2. **实际应用中的线程池设计**

在实际应用中，线程池通常是设计为一个共享的资源，并且是线程安全的。

- **线程池的生命周期**：线程池通常在应用启动时创建，并在应用的整个生命周期中维持。所有请求都会将任务提交给这个共享的线程池，线程池负责管理这些任务的执行。
  
- **典型场景**：
  - **Web服务器**：在Web服务器中，通常会有一个或多个全局线程池，例如用于处理HTTP请求的线程池。这些线程池会被多个请求共享使用。
  - **数据库连接池**：类似地，数据库连接池也是全局共享的，所有请求都会从这个池中获取连接，而不是为每个请求创建新的连接池。

### 3. **性能和资源管理**

- **共享线程池的优势**：
  - **资源复用**：通过复用线程池中的线程，可以避免频繁的线程创建和销毁，节省系统资源。
  - **负载控制**：共享线程池可以通过配置核心线程数、最大线程数和任务队列长度来控制系统负载，防止因为并发请求过多而导致系统资源耗尽。
  - **简化管理**：维护一个或少数几个线程池比管理每个请求的独立线程池要简单得多，也更易于监控和调优。

- **避免线程池过载**：
  - 即便是共享线程池，也需要合理配置线程池的大小。如果线程池中的任务过多且处理不过来，可能会导致任务队列积压，响应时间增加，甚至系统性能下降。
  - 可以通过监控和调优线程池配置（如调整核心线程数、最大线程数和任务队列长度）来适应不同的负载情况。

### 4. **总结**

在100个请求的场景下，这些请求通常会 **共用一个线程池**，而不是为每个请求单独创建一个线程池。共享线程池可以更高效地利用系统资源，确保系统在高并发情况下的稳定性和性能。这是现代服务器和应用程序的标准做法，能够有效地管理并发负载和系统资源。